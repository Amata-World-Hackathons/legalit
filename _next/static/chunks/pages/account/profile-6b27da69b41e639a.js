(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{3157:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/profile",function(){return n(4016)}])},1051:function(e,t,n){"use strict";n.d(t,{$_:function(){return d}});var r=n(5893),a=n(4184),l=n.n(a),s=n(7536);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){return function(n){var a=n.hint,o=n.name,u=n.label,m=n.inputId,d=n.className,h=n.wrapInput,p=n.registerOptions,b=n.showOptionalLabel,x=c(n,["hint","name","label","inputId","className","wrapInput","registerOptions","showOptionalLabel"]),g=(0,s.Gc)(),j=g.register,v=(0,g.getFieldState)(o).error,w=i({className:l()("input-bordered",t,{"input-error":!!v})},j(o,p),x),y=e(w);return(0,r.jsxs)("div",{className:l()("form-control",d),children:[(0,r.jsxs)("label",{htmlFor:m,className:"label",children:[u?(0,r.jsx)("span",{className:"label-text",children:u}):null,b?(0,r.jsx)("span",{className:"label-text",children:"(Optional)"}):null]}),h?(0,r.jsx)("label",{htmlFor:m,className:"input-group",children:h(y)}):y,v?(0,r.jsx)("label",{htmlFor:m,className:"label",children:(0,r.jsx)("span",{className:"label-text text-red-500",children:f(v)})}):a?(0,r.jsx)("label",{htmlFor:m,className:"label",children:(0,r.jsx)("span",{className:"label-text text-base-content text-xs",children:a})}):null]})}}var m=u((function(e){return(0,r.jsx)("input",i({},e))}),"input"),d=u((function(e){return(0,r.jsx)("textarea",i({},e))}),"textarea");function f(e){return e.message?e.message:e.message||"Invalid input"}t.ZP=m},5406:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(5893),a=(n(7294),n(7649)),l=n(1850),s=function(e){var t=e.children;return(0,r.jsx)(l.Kl,{children:(0,r.jsx)(a.b,{children:t})})};function o(e){return(0,r.jsx)(s,{children:e})}},4016:function(e,t,n){"use strict";n.r(t),n.d(t,{AccountProfilePage:function(){return w}});var r=n(4051),a=n.n(r),l=n(5893),s=n(1051),o=n(1850),i=n(9110),c=n(5406),u=n(4184),m=n.n(u),d=n(5321),f=n(1664),h=n.n(f),p=n(7294),b=n(7536),x=n(6084);function g(e,t,n,r,a,l,s){try{var o=e[l](s),i=o.value}catch(c){return void n(c)}o.done?t(i):Promise.resolve(i).then(r,a)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}var w=function(){var e=(0,i.CU)(),t=(0,o.pf)(),n=t.user,r=t.profile,c=(0,b.cI)({mode:"all",defaultValues:{bio:(null===r||void 0===r?void 0:r.bio)||"",imageUrl:(null===r||void 0===r?void 0:r.imageUrl)||"",legalName:(null===r||void 0===r?void 0:r.legalName)||""}}),u=c.watch,f=c.trigger,j=c.handleSubmit,w=c.formState,y=w.isSubmitting,N=w.isDirty;(0,p.useEffect)((function(){f("legalName")}),[f]);var O=u("imageUrl"),k=u("legalName"),P=(0,x.Os)(),_=P.walletAddress,F=P.connect,L=P.disconnect;return(0,l.jsxs)("div",{className:"w-full max-w-xl m-auto",children:[(0,l.jsx)("div",{className:"prose dark:prose-invert",children:(0,l.jsx)("h1",{children:"LegalIt Profile"})}),(0,o.ZW)(r)&&_?null:(0,l.jsxs)("div",{className:"mt-4 alert alert-warning",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"You must complete your profile and connect to your wallet before you can access all the features on the platform"]}),(0,l.jsx)(b.RV,v({},c,{children:(0,l.jsxs)("form",{onSubmit:j(function(){var t,l=(t=a().mark((function t(l){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.pl)((0,d.JU)(e,"profiles",n.uid),v({},r,l,{userId:null===n||void 0===n?void 0:n.uid}));case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var l=t.apply(e,n);function s(e){g(l,r,a,s,o,"next",e)}function o(e){g(l,r,a,s,o,"throw",e)}s(void 0)}))});return function(e){return l.apply(this,arguments)}}()),children:[(0,l.jsxs)("section",{className:"mt-8",children:[(0,l.jsx)(s.ZP,{className:"max-w-sm",hint:"Name of the legal entity for the account, this will be used in all legal documents generated by the platform",name:"legalName",label:"Legal name",autoComplete:"off",registerOptions:{required:{value:!0,message:"A name must be provided"}}}),(0,l.jsx)(s.ZP,{className:"mt-4 max-w-sm",hint:"The public facing name to be used for the storefront, defaults to the legal name",name:"displayName",label:"Display name",placeholder:k,showOptionalLabel:!0}),(0,l.jsx)("div",{className:"divider"}),_?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"mb-4 text-sm",children:["Connected to wallet"," ",(0,l.jsxs)("a",{href:"https://hashscan.io/#/testnet/account/".concat(_),rel:"nofollow noreferrer",target:"_blank",className:"link link-secondary",children:[(0,l.jsx)("span",{className:"material-icons mr-1 text-sm",children:"query_stats"}),_]})]}),(0,l.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return L()},children:"Disconnect"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"mb-4 text-sm",children:"To take advantage of all the features on the platform, you will need to connect to a HBAR compatible wallet"}),(0,l.jsx)("div",{className:"flex flex-row",children:(0,l.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return F().then(null,(function(e){console.error("error",e)}))},children:"Connect to wallet"})}),(0,l.jsxs)("span",{className:"text-xs",children:["The app currently supports the"," ",(0,l.jsx)("a",{href:"https://www.hashpack.app/hashconnect",rel:"nofollow noreferrer",target:"_blank",className:"link link-secondary",children:"Hashpack"})," ","browser extension to act as a wallet"]})]}),(0,l.jsx)("div",{className:"divider"}),(0,l.jsx)("img",{src:O||"https://via.placeholder.com/300x300/000000/FFFFFF?text=Image+not+available",alt:"Preview image for new property",className:"m-auto my-8"}),(0,l.jsx)(s.ZP,{name:"imageUrl",label:"Profile image URL",className:"mt-4 max-w-sm",placeholder:"e.g. https://placekitten.com/g/200/300",showOptionalLabel:!0}),(0,l.jsx)(s.$_,{name:"bio",label:"Profile bio",placeholder:"e.g. Battle-tested veterans of the great NFT battleground...",className:"mt-4",showOptionalLabel:!0})]}),(0,l.jsxs)("div",{className:"mt-8 flex flex-row justify-end",children:[(0,l.jsx)(h(),{href:"/dashboard",children:(0,l.jsx)("a",{className:"btn btn-ghost",children:"Back to dashboard"})}),(0,l.jsx)("button",{className:m()("ml-4 btn btn-primary",{"btn-disabled":!N,loading:y}),children:"Update profile"})]})]})}))]})};w.applyLayout=c.E,t.default=w}},function(e){e.O(0,[536,774,888,179],(function(){return t=3157,e(e.s=t);var t}));var t=e.O();_N_E=t}]);