(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{3157:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/profile",function(){return n(4016)}])},1051:function(e,t,n){"use strict";n.d(t,{$_:function(){return d}});var r=n(5893),a=n(4184),l=n.n(a),s=n(7536);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){return function(n){var a=n.hint,i=n.name,u=n.label,m=n.inputId,d=n.className,p=n.wrapInput,h=n.registerOptions,b=n.showOptionalLabel,x=c(n,["hint","name","label","inputId","className","wrapInput","registerOptions","showOptionalLabel"]),g=(0,s.Gc)(),v=g.register,j=(0,g.getFieldState)(i).error,w=o({className:l()("input-bordered",t,{"input-error":!!j})},v(i,h),x),N=e(w);return(0,r.jsxs)("div",{className:l()("form-control",d),children:[(0,r.jsxs)("label",{htmlFor:m,className:"label",children:[u?(0,r.jsx)("span",{className:"label-text",children:u}):null,b?(0,r.jsx)("span",{className:"label-text",children:"(Optional)"}):null]}),p?(0,r.jsx)("label",{htmlFor:m,className:"input-group",children:p(N)}):N,j?(0,r.jsx)("label",{htmlFor:m,className:"label",children:(0,r.jsx)("span",{className:"label-text text-red-500",children:f(j)})}):a?(0,r.jsx)("label",{htmlFor:m,className:"label",children:(0,r.jsx)("span",{className:"label-text text-base-content text-xs",children:a})}):null]})}}var m=u((function(e){return(0,r.jsx)("input",o({},e))}),"input"),d=u((function(e){return(0,r.jsx)("textarea",o({},e))}),"textarea");function f(e){return e.message?e.message:e.message||"Invalid input"}t.ZP=m},5406:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(5893),a=(n(7294),n(7649)),l=n(1850),s=function(e){var t=e.children;return(0,r.jsx)(l.Kl,{children:(0,r.jsx)(a.b,{children:t})})};function i(e){return(0,r.jsx)(s,{children:e})}},4016:function(e,t,n){"use strict";n.r(t),n.d(t,{AccountProfilePage:function(){return w}});var r=n(4051),a=n.n(r),l=n(5893),s=n(1051),i=n(1850),o=n(9110),c=n(5406),u=n(4184),m=n.n(u),d=n(5321),f=n(1664),p=n.n(f),h=n(7294),b=n(7536),x=n(4459);function g(e,t,n,r,a,l,s){try{var i=e[l](s),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(r,a)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}var w=function(){var e=(0,o.CU)(),t=(0,i.pf)(),n=t.user,r=t.profile,c=(0,b.cI)({defaultValues:{bio:(null===r||void 0===r?void 0:r.bio)||"",imageUrl:(null===r||void 0===r?void 0:r.imageUrl)||"",legalName:(null===r||void 0===r?void 0:r.legalName)||"",neoAddress:(null===r||void 0===r?void 0:r.neoAddress)||""}}),u=c.watch,f=c.trigger,v=c.handleSubmit,w=c.formState,N=w.isSubmitting,y=w.isDirty;(0,h.useEffect)((function(){f("legalName")}),[f]);var O=u("imageUrl"),P=u("legalName"),k=(0,x.Os)().connect;return(0,l.jsxs)("div",{className:"w-full max-w-3xl m-auto",children:[(0,l.jsx)("div",{className:"prose dark:prose-invert",children:(0,l.jsx)("h1",{children:"Profile"})}),(0,i.ZW)(r)?null:(0,l.jsxs)("div",{className:"mt-4 alert alert-warning",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"You must complete your profile before you can access all the features on the platform"]}),(0,l.jsx)("button",{className:"btn btn-primary",onClick:k,children:"Connect"}),(0,l.jsx)(b.RV,j({},c,{children:(0,l.jsxs)("form",{onSubmit:v(function(){var t,l=(t=a().mark((function t(l){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.pl)((0,d.JU)(e,"profiles",n.uid),j({},r,l,{userId:null===n||void 0===n?void 0:n.uid}));case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var l=t.apply(e,n);function s(e){g(l,r,a,s,i,"next",e)}function i(e){g(l,r,a,s,i,"throw",e)}s(void 0)}))});return function(e){return l.apply(this,arguments)}}()),children:[(0,l.jsxs)("section",{className:"mt-8 p-8 border border-primary rounded-lg",children:[(0,l.jsx)(s.ZP,{className:"max-w-sm",hint:"Name of the legal entity for the account, this will be used in all legal documents generated by the platform",name:"legalName",label:"Legal name",registerOptions:{required:{value:!0,message:"A name must be provided"}}}),(0,l.jsx)(s.ZP,{className:"max-w-sm",name:"neoAddress",hint:"A NEO wallet address is required for all transactions",label:"NEO wallet address",registerOptions:{required:{value:!0,message:"A wallet is required to use the platform"}}}),(0,l.jsx)(s.ZP,{className:"mt-4 max-w-sm",hint:"The public facing name to be used for the storefront, defaults to the legal name",name:"displayName",label:"Display name",placeholder:P,showOptionalLabel:!0}),(0,l.jsx)("img",{src:O||"https://via.placeholder.com/300x300/000000/FFFFFF?text=Image+not+available",alt:"Preview image for new property",className:"m-auto my-8"}),(0,l.jsx)(s.ZP,{name:"imageUrl",label:"Profile image URL",className:"mt-4 max-w-sm",placeholder:"e.g. https://placekitten.com/g/200/300",showOptionalLabel:!0}),(0,l.jsx)(s.$_,{name:"bio",label:"Profile bio",placeholder:"e.g. Battle-tested veterans of the great NFT battleground...",className:"mt-4",showOptionalLabel:!0})]}),(0,l.jsxs)("div",{className:"mt-8 flex flex-row justify-end",children:[(0,l.jsx)(p(),{href:"/dashboard",children:(0,l.jsx)("a",{className:"btn btn-ghost",children:"Back to dashboard"})}),(0,l.jsx)("button",{className:m()("ml-4 btn btn-primary",{"btn-disabled":!y,loading:N}),children:"Update profile"})]})]})}))]})};w.applyLayout=c.E,t.default=w}},function(e){e.O(0,[536,774,888,179],(function(){return t=3157,e(e.s=t);var t}));var t=e.O();_N_E=t}]);